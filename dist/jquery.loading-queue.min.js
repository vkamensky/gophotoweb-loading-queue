(function(e){var i="loadingQueue",n=[],r=!1,t=function(i,n){var r=null;return e.each(n,function(e,n){(!r||screen.width>n.width&&screen.height>n.width)&&(r=i.data("basePath")+e+i.data("fileName"))}),r},a=function(){var e=n.shift();if(e){if(r=!0,!e.image.is("img"))return e.def.reject(e.image),a(),void 0;var i=t(e.image,e.options);e.image.on("load",function(){e.def.resolve(e.image),a()}).on("error",function(){e.def.reject(e.image),a()}).attr("src",i)}else r=!1},o=function(i,r){var t=e.Deferred();return n.push({def:t,image:e(i),options:r}),t.promise()};e.fn[i]=function(i){var n=o(e(this),i);return r||a(),n}})(jQuery);